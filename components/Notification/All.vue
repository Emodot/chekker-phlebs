<template>
  <div class="ctn come-down">
    <!-- <div class="notif_section">
      <div class="first_side">
        <div class="bell">
          <img src="~assets/images/notif.png" alt="">
        </div>
        <div class="notif_center">
          <p class="notif_head">
            You have 6 orders you have not completed yet
          </p>
          <p class="notif_text">
            Proceed to Ongoing orders to complete or dismiss orders assigned to you.
          </p>
          <div class="no_show">
            <div class="see_all" @click="$emit('open-notification')">
              <p>See Ongoing Orders</p>
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.2667 6.58663L7.20666 3.52663C7.08175 3.40246 6.91278 3.33276 6.73666 3.33276C6.56053 3.33276 6.39157 3.40246 6.26666 3.52663C6.20417 3.5886 6.15458 3.66233 6.12073 3.74357C6.08688 3.82481 6.06946 3.91195 6.06946 3.99996C6.06946 4.08797 6.08688 4.1751 6.12073 4.25634C6.15458 4.33758 6.20417 4.41132 6.26666 4.47329L9.33332 7.52663C9.39581 7.5886 9.44541 7.66233 9.47925 7.74357C9.5131 7.82481 9.53052 7.91195 9.53052 7.99996C9.53052 8.08797 9.5131 8.1751 9.47925 8.25634C9.44541 8.33758 9.39581 8.41132 9.33332 8.47329L6.26666 11.5266C6.14112 11.6513 6.07024 11.8207 6.06962 11.9976C6.06899 12.1745 6.13867 12.3444 6.26332 12.47C6.38798 12.5955 6.55739 12.6664 6.7343 12.667C6.91121 12.6676 7.08112 12.5979 7.20666 12.4733L10.2667 9.41329C10.6412 9.03829 10.8516 8.52996 10.8516 7.99996C10.8516 7.46996 10.6412 6.96163 10.2667 6.58663Z" fill="#2A7FF3" />
              </svg>
            </div>
          </div>
        </div>
      </div>
      <div class="mobile_no_show">
        <div class="last_side">
          <p>See Ongoing Orders</p>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            @click="$emit('open-notification')"
          >
            <rect width="24" height="24" rx="4" fill="#0FB2F3" />
            <path d="M14.9778 10.6844L11.4078 7.11436C11.2621 6.96949 11.0649 6.88818 10.8595 6.88818C10.654 6.88818 10.4568 6.96949 10.3111 7.11436C10.2382 7.18666 10.1804 7.27268 10.1409 7.36746C10.1014 7.46224 10.0811 7.5639 10.0811 7.66658C10.0811 7.76925 10.1014 7.87091 10.1409 7.96569C10.1804 8.06047 10.2382 8.1465 10.3111 8.2188L13.8889 11.781C13.9618 11.8533 14.0197 11.9394 14.0591 12.0341C14.0986 12.1289 14.119 12.2306 14.119 12.3332C14.119 12.4359 14.0986 12.5376 14.0591 12.6324C14.0197 12.7271 13.9618 12.8132 13.8889 12.8855L10.3111 16.4477C10.1647 16.5931 10.082 16.7908 10.0812 16.9972C10.0805 17.2036 10.1618 17.4018 10.3072 17.5482C10.4527 17.6947 10.6503 17.7774 10.8567 17.7781C11.0631 17.7789 11.2613 17.6976 11.4078 17.5521L14.9778 13.9821C15.4147 13.5446 15.6602 12.9516 15.6602 12.3332C15.6602 11.7149 15.4147 11.1219 14.9778 10.6844Z" fill="white" />
          </svg>
        </div>
      </div>
    </div> -->
    <LoadersNotificationPage v-if="notificationLoading" class="big-loader" />
    <div v-else-if="notifications.length === 0" class="come-down">
      <EmptyData
        :modal-head="'You have no Notification!'"
        :modal-text="'You are all Caught up!'"
        :bg-btn="'See My Todo'"
        @bg-action="$router.push('/to-do-orders')"
      />
    </div>
    <div v-for="(data, index) in notifications" v-else :key="index" class="notif_section">
      <div class="first_side" @click="$emit('open-notification', data.id)">
        <div class="bell">
          <img src="~assets/images/notif.png" alt="">
        </div>
        <div class="notif_center">
          <p class="notif_head">
            {{ data.subject }}
          </p>
          <p class="notif_text">
            {{ data.message }}
          </p>
          <p class="notif_date">
            {{ completeDateInFull(data.updatedAt) }}
          </p>
          <div class="no_show">
            <div class="see_all" @click="$emit('open-notification', data.id)">
              <!-- <svg
                class="trash"
                width="24"
                height="20"
                viewBox="0 0 24 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_248_24385)">
                  <path d="M20.7911 3.33333H17.8225C17.6003 2.39284 17.0122 1.54779 16.1575 0.940598C15.3027 0.333408 14.2336 0.0012121 13.1302 0L11.215 0C10.1116 0.0012121 9.04245 0.333408 8.18771 0.940598C7.33297 1.54779 6.74492 2.39284 6.52266 3.33333H3.55405C3.30008 3.33333 3.0565 3.42113 2.87691 3.57741C2.69733 3.73369 2.59644 3.94565 2.59644 4.16667C2.59644 4.38768 2.69733 4.59964 2.87691 4.75592C3.0565 4.9122 3.30008 5 3.55405 5H4.51167V15.8333C4.51319 16.938 5.01813 17.997 5.91574 18.7782C6.81335 19.5593 8.03033 19.9987 9.29974 20H15.0454C16.3148 19.9987 17.5318 19.5593 18.4294 18.7782C19.327 17.997 19.832 16.938 19.8335 15.8333V5H20.7911C21.0451 5 21.2887 4.9122 21.4683 4.75592C21.6478 4.59964 21.7487 4.38768 21.7487 4.16667C21.7487 3.94565 21.6478 3.73369 21.4683 3.57741C21.2887 3.42113 21.0451 3.33333 20.7911 3.33333ZM11.215 1.66667H13.1302C13.7242 1.6673 14.3034 1.82781 14.7884 2.1262C15.2734 2.42459 15.6405 2.84624 15.8393 3.33333H8.50588C8.70466 2.84624 9.07173 2.42459 9.55675 2.1262C10.0418 1.82781 10.621 1.6673 11.215 1.66667ZM17.9183 15.8333C17.9183 16.4964 17.6156 17.1323 17.0768 17.6011C16.5381 18.0699 15.8074 18.3333 15.0454 18.3333H9.29974C8.53781 18.3333 7.8071 18.0699 7.26833 17.6011C6.72957 17.1323 6.4269 16.4964 6.4269 15.8333V5H17.9183V15.8333Z" fill="#00295D" />
                  <path d="M10.2573 15.0007C10.5113 15.0007 10.7548 14.9129 10.9344 14.7566C11.114 14.6003 11.2149 14.3883 11.2149 14.1673V9.16732C11.2149 8.9463 11.114 8.73434 10.9344 8.57806C10.7548 8.42178 10.5113 8.33398 10.2573 8.33398C10.0033 8.33398 9.75975 8.42178 9.58016 8.57806C9.40057 8.73434 9.29968 8.9463 9.29968 9.16732V14.1673C9.29968 14.3883 9.40057 14.6003 9.58016 14.7566C9.75975 14.9129 10.0033 15.0007 10.2573 15.0007Z" fill="#00295D" />
                  <path d="M14.0877 15.0007C14.3417 15.0007 14.5853 14.9129 14.7649 14.7566C14.9445 14.6003 15.0454 14.3883 15.0454 14.1673V9.16732C15.0454 8.9463 14.9445 8.73434 14.7649 8.57806C14.5853 8.42178 14.3417 8.33398 14.0877 8.33398C13.8338 8.33398 13.5902 8.42178 13.4106 8.57806C13.231 8.73434 13.1301 8.9463 13.1301 9.16732V14.1673C13.1301 14.3883 13.231 14.6003 13.4106 14.7566C13.5902 14.9129 13.8338 15.0007 14.0877 15.0007Z" fill="#00295D" />
                </g>
                <defs>
                  <clipPath id="clip0_248_24385">
                    <rect width="22.9828" height="20" fill="white" transform="translate(0.681152)" />
                  </clipPath>
                </defs>
              </svg> -->
              <p>
                Read
              </p>
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                @click="$emit('open-notification', data.id)"
              >
                <path d="M10.2667 6.58663L7.20666 3.52663C7.08175 3.40246 6.91278 3.33276 6.73666 3.33276C6.56053 3.33276 6.39157 3.40246 6.26666 3.52663C6.20417 3.5886 6.15458 3.66233 6.12073 3.74357C6.08688 3.82481 6.06946 3.91195 6.06946 3.99996C6.06946 4.08797 6.08688 4.1751 6.12073 4.25634C6.15458 4.33758 6.20417 4.41132 6.26666 4.47329L9.33332 7.52663C9.39581 7.5886 9.44541 7.66233 9.47925 7.74357C9.5131 7.82481 9.53052 7.91195 9.53052 7.99996C9.53052 8.08797 9.5131 8.1751 9.47925 8.25634C9.44541 8.33758 9.39581 8.41132 9.33332 8.47329L6.26666 11.5266C6.14112 11.6513 6.07024 11.8207 6.06962 11.9976C6.06899 12.1745 6.13867 12.3444 6.26332 12.47C6.38798 12.5955 6.55739 12.6664 6.7343 12.667C6.91121 12.6676 7.08112 12.5979 7.20666 12.4733L10.2667 9.41329C10.6412 9.03829 10.8516 8.52996 10.8516 7.99996C10.8516 7.46996 10.6412 6.96163 10.2667 6.58663Z" fill="#2A7FF3" />
              </svg>
            </div>
          </div>
        </div>
      </div>
      <div class="mobile_no_show">
        <div class="last_side">
          <svg width="24" height="20" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_248_24385)">
              <path d="M20.7911 3.33333H17.8225C17.6003 2.39284 17.0122 1.54779 16.1575 0.940598C15.3027 0.333408 14.2336 0.0012121 13.1302 0L11.215 0C10.1116 0.0012121 9.04245 0.333408 8.18771 0.940598C7.33297 1.54779 6.74492 2.39284 6.52266 3.33333H3.55405C3.30008 3.33333 3.0565 3.42113 2.87691 3.57741C2.69733 3.73369 2.59644 3.94565 2.59644 4.16667C2.59644 4.38768 2.69733 4.59964 2.87691 4.75592C3.0565 4.9122 3.30008 5 3.55405 5H4.51167V15.8333C4.51319 16.938 5.01813 17.997 5.91574 18.7782C6.81335 19.5593 8.03033 19.9987 9.29974 20H15.0454C16.3148 19.9987 17.5318 19.5593 18.4294 18.7782C19.327 17.997 19.832 16.938 19.8335 15.8333V5H20.7911C21.0451 5 21.2887 4.9122 21.4683 4.75592C21.6478 4.59964 21.7487 4.38768 21.7487 4.16667C21.7487 3.94565 21.6478 3.73369 21.4683 3.57741C21.2887 3.42113 21.0451 3.33333 20.7911 3.33333ZM11.215 1.66667H13.1302C13.7242 1.6673 14.3034 1.82781 14.7884 2.1262C15.2734 2.42459 15.6405 2.84624 15.8393 3.33333H8.50588C8.70466 2.84624 9.07173 2.42459 9.55675 2.1262C10.0418 1.82781 10.621 1.6673 11.215 1.66667ZM17.9183 15.8333C17.9183 16.4964 17.6156 17.1323 17.0768 17.6011C16.5381 18.0699 15.8074 18.3333 15.0454 18.3333H9.29974C8.53781 18.3333 7.8071 18.0699 7.26833 17.6011C6.72957 17.1323 6.4269 16.4964 6.4269 15.8333V5H17.9183V15.8333Z" fill="#00295D" />
              <path d="M10.2573 15.0007C10.5113 15.0007 10.7548 14.9129 10.9344 14.7566C11.114 14.6003 11.2149 14.3883 11.2149 14.1673V9.16732C11.2149 8.9463 11.114 8.73434 10.9344 8.57806C10.7548 8.42178 10.5113 8.33398 10.2573 8.33398C10.0033 8.33398 9.75975 8.42178 9.58016 8.57806C9.40057 8.73434 9.29968 8.9463 9.29968 9.16732V14.1673C9.29968 14.3883 9.40057 14.6003 9.58016 14.7566C9.75975 14.9129 10.0033 15.0007 10.2573 15.0007Z" fill="#00295D" />
              <path d="M14.0877 15.0007C14.3417 15.0007 14.5853 14.9129 14.7649 14.7566C14.9445 14.6003 15.0454 14.3883 15.0454 14.1673V9.16732C15.0454 8.9463 14.9445 8.73434 14.7649 8.57806C14.5853 8.42178 14.3417 8.33398 14.0877 8.33398C13.8338 8.33398 13.5902 8.42178 13.4106 8.57806C13.231 8.73434 13.1301 8.9463 13.1301 9.16732V14.1673C13.1301 14.3883 13.231 14.6003 13.4106 14.7566C13.5902 14.9129 13.8338 15.0007 14.0877 15.0007Z" fill="#00295D" />
            </g>
            <defs>
              <clipPath id="clip0_248_24385">
                <rect width="22.9828" height="20" fill="white" transform="translate(0.681152)" />
              </clipPath>
            </defs>
          </svg>
          <p>Read</p>
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            @click="$emit('open-notification', data.id)"
          >
            <rect width="24" height="24" rx="4" fill="#0FB2F3" />
            <path d="M14.9778 10.6844L11.4078 7.11436C11.2621 6.96949 11.0649 6.88818 10.8595 6.88818C10.654 6.88818 10.4568 6.96949 10.3111 7.11436C10.2382 7.18666 10.1804 7.27268 10.1409 7.36746C10.1014 7.46224 10.0811 7.5639 10.0811 7.66658C10.0811 7.76925 10.1014 7.87091 10.1409 7.96569C10.1804 8.06047 10.2382 8.1465 10.3111 8.2188L13.8889 11.781C13.9618 11.8533 14.0197 11.9394 14.0591 12.0341C14.0986 12.1289 14.119 12.2306 14.119 12.3332C14.119 12.4359 14.0986 12.5376 14.0591 12.6324C14.0197 12.7271 13.9618 12.8132 13.8889 12.8855L10.3111 16.4477C10.1647 16.5931 10.082 16.7908 10.0812 16.9972C10.0805 17.2036 10.1618 17.4018 10.3072 17.5482C10.4527 17.6947 10.6503 17.7774 10.8567 17.7781C11.0631 17.7789 11.2613 17.6976 11.4078 17.5521L14.9778 13.9821C15.4147 13.5446 15.6602 12.9516 15.6602 12.3332C15.6602 11.7149 15.4147 11.1219 14.9778 10.6844Z" fill="white" />
          </svg>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import { completeDateInFull } from '@/utils/date-formats.js'
export default {
  props: {
    notifications: {
      type: Array,
      default: () => []
    },
    notificationLoading: {
      type: Boolean,
      default: () => false
    }
  },
  data () {
    return {
      completeDateInFull
      // notifications: [
      //   {
      //     title: 'System update',
      //     details: 'Dear user, we’ve made some update to the folling processes, kindly reach out...'
      //   },
      //   {
      //     title: 'Referral Bonus',
      //     details: 'You’ve just earned a bonus'
      //   },
      //   {
      //     title: 'The CEO want’s you to read this',
      //     details: 'All phlebtomists are required to do the following when taking new orders'
      //   }
      // ]
    }
  }
}
</script>

<style scoped>
.ctn {
  padding-top: 4vh;
}
.notif_section {
  padding: 4vh 3vw;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: fit-content;
  border: 1px solid rgba(0, 41, 93, 0.05);
  box-shadow: 0px 4px 20px rgba(0, 41, 93, 0.05);
  border-radius: 8px;
  margin-top: 2vh;
}

.first_side {
  display: flex;
  /* gap: 3vw; */
  align-items: center;
}

.bell {
  margin-right: 12px;
}

.last_side {
  display: flex;
  align-items: center;
  gap: 1vw;
  cursor: pointer;
}

.last_side p {
  font-weight: 700;
}

.notif_head {
  font-size: 16px;
  font-weight: 700;
  margin-bottom: 10px;
}

.notif_text {
  font-weight: 600;
  color: rgba(0, 0, 0, 0.621);
}

.notif_date {
  font-size: 13px;
  color: #A5ACB8;
  margin-top: 2vh;
}

.bottom_box {
  display: flex;
  justify-content: space-between;
}

.analytics {
  width: 48%;
}

.notif_number {
  display: flex;
  justify-content: space-between;
}

.notif_number p{
  font-size: 26px;
  font-weight: 700;
}

@media only screen and (max-width: 500px) {

.see_all {
  display: flex;
  /* gap: 2px; */
  align-items: center;
  cursor: pointer;
  width: fit-content;
}

.see_all p {
  color: #2A7FF3;
  font-weight: 700;
  margin-right: 2px;
}
  .first_side {
    align-items: flex-start;
  }

  .bell img {
    width: 30px;
    height: 30px;
  }

  .notif_head {
    font-size: 14px;
  }

  .notif_text {
    font-size: 13px;
    margin-bottom: 10px;
  }

  .notif_date {
    margin-bottom: 15px;
  }

  .trash {
    width: 18px;
    height: 18px;
    margin-right: 10px;
  }

  .trash path {
    fill: #2A7FF3;
  }
}
</style>
